{"version":3,"sources":["components/User.js","components/TodoItem.js","components/TodoList.js","API/getTodos.js","API/users.js","App.js","index.js"],"names":["User","_ref","user","react_default","a","createElement","name","TodoItem","todo","title","components_User","completed","className","TodoList","todos","map","components_TodoItem","key","id","getTodo","fetch","then","response","json","getUsers","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadData","setState","isLoading","error","initialized","Promise","all","todosList","usersList","_ref2","slicedToArray","todoList","userList","preparedTodos","_objectSpread","find","userId","catch","finally","switcher","_ref3","asyncToGenerator","regenerator_default","mark","_callee","sorter","wrap","_context","prev","next","t0","prevState","currentSorter","todosOnDisplay","sort","b","localeCompare","abrupt","stop","_x","apply","arguments","state","_this2","_this$state","Fragment","Button","type","onClick","components_TodoList","color","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.fd7c1901.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ user }) => (\n  <td>\n    {user.name}\n  </td>\n);\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    username: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nconst TodoItem = ({ todo }) => (\n  <tr>\n    <td>{todo.title}</td>\n    <User user={todo.user} />\n\n    {todo.completed ? (\n      <td className=\"positive\">\n        <i className=\"icon checkmark\" />\n        Approved\n      </td>\n    ) : (\n      <td className=\"negative\">\n        <i className=\"icon close\" />\n        In procces\n      </td>\n    )\n    }\n  </tr>\n);\n\nexport default TodoItem;\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n  }).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\n\nconst TodoList = ({ todos }) => (\n  <table className=\"ui red table\">\n    <thead>\n      <tr>\n        <th>TODO item</th>\n        <th>The name of the user</th>\n        <th>Completed</th>\n      </tr>\n    </thead>\n    <tbody>\n      {todos.map(todo => (\n        <TodoItem todo={todo} key={todo.id} />\n      ))}\n    </tbody>\n  </table>\n);\n\nexport default TodoList;\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","const todosURL = 'https://jsonplaceholder.typicode.com/todos';\n\nexport const getTodo = () => fetch(todosURL)\n  .then(response => response.json());\n","const usersURL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsers = () => fetch(usersURL)\n  .then(response => response.json());\n","import React from 'react';\nimport './App.css';\nimport { Button } from 'semantic-ui-react';\nimport TodoList from './components/TodoList';\nimport { getTodo } from './API/getTodos';\nimport { getUsers } from './API/users';\n\nfunction getTodosWithUsers(todosList, usersList) {\n  return todosList.map(todo => ({\n    ...todo,\n    user: usersList.find(user => todo.userId === user.id),\n  }));\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userList: [],\n      todoList: [],\n      isLoading: false,\n      error: false,\n      initialized: false,\n      currentSorter: 'byUser',\n      preparedTodos: [],\n      todosOnDisplay: [],\n    };\n  }\n\n  loadData = () => {\n    this.setState({\n      isLoading: true,\n      error: false,\n      initialized: true,\n    });\n\n    Promise.all([getTodo(), getUsers()])\n      .then(([todoList, userList]) => {\n        this.setState({\n          todoList,\n          userList,\n          preparedTodos: getTodosWithUsers(todoList, userList),\n        });\n      })\n      .catch(() => {\n        this.setState({\n          error: true,\n          isLoading: false,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n          initialized: true,\n        });\n      });\n  };\n\n  switcher = async(sorter) => {\n    await this.loadData();\n    switch (sorter) {\n      case 'byUser':\n        this.setState(prevState => ({\n          ...prevState,\n          currentSorter: 'byUser',\n          todosOnDisplay: prevState.preparedTodos.sort(\n            (a, b) => a.user.name.localeCompare(b.user.name)\n          ),\n        }));\n        break;\n      case 'byTitle':\n        this.setState(prevState => ({\n          ...prevState,\n          currentSorter: 'byTitle',\n          todosOnDisplay: prevState.preparedTodos.sort(\n            (a, b) => a.title.localeCompare(b.title)\n          ),\n        }));\n        break;\n      case 'byStatus':\n        this.setState(prevState => ({\n          ...prevState,\n          currentSorter: 'byTitle',\n          todosOnDisplay: prevState.preparedTodos.sort(\n            (a, b) => a.completed - b.completed\n          ),\n        }));\n        break;\n      default:\n        this.setState(prevState => ({\n          ...prevState,\n          todosOnDisplay: prevState.preparedTodos,\n        }));\n        break;\n    }\n  }\n\n  render() {\n    const {\n      isLoading, error, todosOnDisplay, preparedTodos,\n    } = this.state;\n\n    if (isLoading) {\n      return <p>loading...</p>;\n    }\n\n    if (error) {\n      return (\n        <>\n          <p>Error occurred!!!</p>\n          <Button\n            type=\"button\"\n            onClick={this.loadData}\n          >\n            Try Again!\n          </Button>\n        </>\n      );\n    }\n\n    if (!preparedTodos) {\n      return (\n        <>\n          <p>No users and todos yet!</p>\n          <Button type=\"button\" onClick={this.loadData} color=\"green\">\n            Load\n          </Button>\n        </>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <h1>Dynamic list of todos</h1>\n        <Button\n          type=\"button\"\n          onClick={() => this.switcher('byTitle')}\n        >\n          By User!\n        </Button>\n        <Button\n          type=\"button\"\n          onClick={() => this.switcher('byUser')}\n        >\n          By Title!\n        </Button>\n        <Button\n          type=\"button\"\n          onClick={() => this.switcher('byStatus')}\n        >\n          By Status!\n        </Button>\n        <TodoList todos={todosOnDisplay} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}